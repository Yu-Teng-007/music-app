# 样式系统使用指南

## 📋 概述

本指南详细介绍了音乐应用前端样式系统的使用方法，包括设计令牌、组件样式、响应式设计等方面的最佳实践。

## 🎨 设计系统结构

```
src/assets/styles/
├── variables.scss    # 设计令牌变量
├── mixins.scss      # 样式混入和工具函数
├── global.scss      # 全局样式和工具类
└── index.scss       # 样式系统入口文件
```

## 🔧 基础使用

### 1. 在 Vue 组件中导入样式

```vue
<style scoped lang="scss">
/* 导入设计系统变量 */
@use '@/assets/styles/variables.scss' as *;
@use '@/assets/styles/mixins.scss' as *;

.my-component {
  color: $text-primary;
  padding: $spacing-4;
  border-radius: $border-radius-base;
}
</style>
```

### 2. 使用设计令牌

#### 颜色系统
```scss
// 主色调
color: $primary;           // #007aff
color: $primary-light;     // #4da6ff
color: $primary-dark;      // #0056b3

// 背景色
background: $bg-primary;   // #000000
background: $bg-secondary; // #1a1a2e
background: $bg-surface;   // rgba(255, 255, 255, 0.05)

// 文本色
color: $text-primary;      // #ffffff
color: $text-secondary;    // rgba(255, 255, 255, 0.7)
color: $text-tertiary;     // rgba(255, 255, 255, 0.5)

// 状态色
color: $success;           // #34d399
color: $warning;           // #fbbf24
color: $error;             // #f87171
color: $info;              // #60a5fa
```

#### 间距系统
```scss
// 基础间距（基于 8px 网格）
padding: $spacing-1;       // 4px
padding: $spacing-2;       // 8px
padding: $spacing-3;       // 12px
padding: $spacing-4;       // 16px
padding: $spacing-6;       // 24px
padding: $spacing-8;       // 32px

// 语义化间距
padding: $spacing-xs;      // 4px
padding: $spacing-sm;      // 8px
padding: $spacing-md;      // 16px
padding: $spacing-lg;      // 24px
padding: $spacing-xl;      // 32px
```

#### 字体系统
```scss
// 字体大小（基于 1.25 比例）
font-size: $font-size-xs;  // 0.75rem (12px)
font-size: $font-size-sm;  // 0.875rem (14px)
font-size: $font-size-base; // 1rem (16px)
font-size: $font-size-lg;  // 1.125rem (18px)
font-size: $font-size-xl;  // 1.25rem (20px)
font-size: $font-size-2xl; // 1.5rem (24px)

// 字重
font-weight: $font-weight-light;     // 300
font-weight: $font-weight-normal;    // 400
font-weight: $font-weight-medium;    // 500
font-weight: $font-weight-semibold;  // 600
font-weight: $font-weight-bold;      // 700
```

## 🧩 使用混入

### 1. 响应式设计
```scss
.my-component {
  padding: $spacing-6;
  
  // 平板及以下
  @include respond-to(md) {
    padding: $spacing-4;
  }
  
  // 手机
  @include respond-to(sm) {
    padding: $spacing-3;
  }
}

// 桌面端及以上
@include respond-from(lg) {
  .desktop-only {
    display: block;
  }
}

// 范围查询
@include respond-between(sm, lg) {
  .tablet-only {
    display: block;
  }
}
```

### 2. 布局混入
```scss
.header {
  @include flex-between; // 两端对齐
}

.modal {
  @include absolute-center; // 绝对定位居中
}

.container {
  @include container($container-lg); // 容器样式
}
```

### 3. 组件混入
```scss
.my-button {
  @include button-base;
  @include button-size(lg);
  
  background: $primary;
  color: $text-primary;
}

.my-input {
  @include input-base;
  padding: $spacing-3 $spacing-4;
}

.my-card {
  @include card($spacing-6);
}
```

### 4. 工具混入
```scss
.truncated-text {
  @include text-truncate; // 单行截断
}

.multi-line-text {
  @include text-truncate-lines(3); // 多行截断
}

.custom-scroll {
  @include custom-scrollbar(6px, $bg-surface, $border-color-base);
}
```

## 🎭 工具类

### 1. 文本样式
```html
<h1 class="text-2xl font-bold text-primary">标题</h1>
<p class="text-base text-secondary">正文</p>
<span class="text-sm text-tertiary">辅助文本</span>
```

### 2. 间距
```html
<div class="p-4 m-2">内边距16px，外边距8px</div>
<div class="p-6 gap-4">内边距24px，间隙16px</div>
```

### 3. 布局
```html
<div class="flex items-center justify-between gap-4">
  <span>左侧内容</span>
  <span>右侧内容</span>
</div>

<div class="container">
  <div class="flex flex-col gap-6">
    <!-- 内容 -->
  </div>
</div>
```

### 4. 边框和阴影
```html
<div class="rounded-lg shadow-md">卡片</div>
<button class="rounded-full shadow-sm">按钮</button>
```

## 📱 响应式设计

### 断点系统
```scss
$breakpoint-xs: 480px;   // 超小屏幕
$breakpoint-sm: 640px;   // 小屏幕
$breakpoint-md: 768px;   // 中等屏幕
$breakpoint-lg: 1024px;  // 大屏幕
$breakpoint-xl: 1280px;  // 超大屏幕
```

### 移动优先原则
```scss
.component {
  // 默认样式（移动端）
  padding: $spacing-3;
  font-size: $font-size-sm;
  
  // 平板
  @include respond-from(md) {
    padding: $spacing-4;
    font-size: $font-size-base;
  }
  
  // 桌面
  @include respond-from(lg) {
    padding: $spacing-6;
    font-size: $font-size-lg;
  }
}
```

## 🎨 主题系统

### CSS 变量使用
```scss
.component {
  // 优先使用 CSS 变量，便于主题切换
  color: var(--text-primary);
  background: var(--bg-surface);
  border-color: var(--border-color-light);
}
```

### JavaScript 中使用
```javascript
// 导入样式变量
import styles from '@/assets/styles/index.scss'

// 使用变量
const primaryColor = styles.primary
const spacing = styles.spacingMd
```

## 🚀 最佳实践

### 1. 命名规范
```scss
// ✅ 好的命名
.music-player-controls { }
.btn-primary { }
.text-secondary { }

// ❌ 避免的命名
.blue-button { }
.big-text { }
.container1 { }
```

### 2. 组件样式结构
```vue
<style scoped>
/* 1. 导入 */
@import '@/assets/styles/variables.scss';
@import '@/assets/styles/mixins.scss';

/* 2. 组件根元素 */
.component-name {
  /* 基础样式 */
}

/* 3. 子元素 */
.component-name__element {
  /* 元素样式 */
}

/* 4. 修饰符 */
.component-name--modifier {
  /* 修饰符样式 */
}

/* 5. 状态 */
.component-name.is-active {
  /* 状态样式 */
}

/* 6. 响应式 */
@include respond-to(md) {
  .component-name {
    /* 响应式样式 */
  }
}
</style>
```

### 3. 性能优化
```scss
// ✅ 使用 CSS 变量
.component {
  color: var(--text-primary);
  transition: var(--transition-fast);
}

// ✅ 避免深层嵌套
.component {
  .element { }
  .another-element { }
}

// ❌ 避免过深嵌套
.component {
  .wrapper {
    .container {
      .element { } // 太深了
    }
  }
}
```

### 4. 可维护性
```scss
// ✅ 使用设计令牌
.button {
  padding: $spacing-3 $spacing-4;
  border-radius: $border-radius-base;
  font-size: $font-size-sm;
}

// ❌ 硬编码值
.button {
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 14px;
}
```

## 🔍 调试技巧

### 1. 检查设计令牌
```scss
// 临时显示变量值
.debug {
  &::before {
    content: '#{$spacing-4}'; // 显示变量值
  }
}
```

### 2. 响应式调试
```scss
// 显示当前断点
body::before {
  content: 'xs';
  position: fixed;
  top: 0;
  right: 0;
  z-index: 9999;
  
  @include respond-from(sm) {
    content: 'sm';
  }
  
  @include respond-from(md) {
    content: 'md';
  }
  
  @include respond-from(lg) {
    content: 'lg';
  }
}
```

## 📚 参考资源

- [设计系统变量文档](./variables.scss)
- [混入函数文档](./mixins.scss)
- [全局样式文档](./global.scss)
- [前端样式系统优化报告](./前端样式系统优化报告.md)

---

*遵循本指南可以确保样式的一致性、可维护性和性能优化。*
