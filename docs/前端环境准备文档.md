# 前端环境准备文档

## 📋 目录
- [系统要求](#系统要求)
- [Git 配置](#git-配置)
- [Node.js 环境安装](#nodejs-环境安装)
- [项目依赖安装](#项目依赖安装)
- [开发工具配置](#开发工具配置)
- [环境验证](#环境验证)
- [常见问题解决](#常见问题解决)

## 🖥️ 系统要求

### 最低要求
- **操作系统**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+
- **内存**: 8GB RAM (推荐 16GB)
- **存储空间**: 至少 5GB 可用空间
- **网络**: 稳定的互联网连接

### 推荐配置
- **Node.js**: 20.x LTS 版本
- **npm**: 10.x 版本
- **Git**: 2.40+ 版本

## 🔧 Git 配置

### 1. 安装 Git
```bash
# Windows (使用 Chocolatey)
choco install git

# macOS (使用 Homebrew)
brew install git

# Ubuntu/Debian
sudo apt update
sudo apt install git
```

### 2. 配置用户信息
```bash
# 设置全局用户名/邮箱
git config --global user.name "jincheng"
git config --global user.email "jincheng@github.com"

# 验证配置
git config --global --list
```

### 3. 配置 SSH 密钥（推荐）
```bash
# 生成 SSH 密钥
ssh-keygen -t ed25519 -C "jincheng@github.com"

# 启动 ssh-agent
eval "$(ssh-agent -s)"

# 添加私钥到 ssh-agent
ssh-add ~/.ssh/id_ed25519

# 复制公钥到剪贴板
cat ~/.ssh/id_ed25519.pub
```

### 4. Git 常用配置
```bash
# 设置默认分支名
git config --global init.defaultBranch main

# 设置换行符处理
git config --global core.autocrlf input  # macOS/Linux
git config --global core.autocrlf true   # Windows

# 设置编辑器
git config --global core.editor "code --wait"  # VS Code
```

## 📦 Node.js 环境安装

### 1. 使用 Node Version Manager (推荐)

#### Windows (nvm-windows)
```bash
# 下载并安装 nvm-windows
# 访问: https://github.com/coreybutler/nvm-windows/releases

# 安装最新 LTS 版本
nvm install lts
nvm use lts
```

#### macOS/Linux (nvm)
```bash
# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 重新加载终端配置
source ~/.bashrc

# 安装最新 LTS 版本
nvm install --lts
nvm use --lts
nvm alias default lts/*
```

### 2. 直接安装 Node.js
访问 [Node.js 官网](https://nodejs.org/) 下载并安装 LTS 版本

### 3. 验证安装
```bash
node --version    # 应显示 v20.x.x
npm --version     # 应显示 10.x.x
```

## 🚀 项目依赖安装

### 1. 克隆项目
```bash
# 使用 HTTPS
git clone https://github.com/your-username/music-app.git

# 或使用 SSH
git clone git@github.com:your-username/music-app.git

# 进入项目目录
cd music-app
```

### 2. 安装前端依赖
```bash
# 进入前端项目目录
cd music-app-frontend

# 安装依赖
npm install

# 或使用 yarn (如果已安装)
yarn install

# 或使用 pnpm (如果已安装)
pnpm install
```

### 3. 安装后端依赖
```bash
# 进入后端项目目录
cd ../music-app-backend

# 安装依赖
npm install
```

### 4. 全局工具安装（可选）
```bash
# 安装常用全局工具
npm install -g @vue/cli          # Vue CLI
npm install -g @nestjs/cli       # NestJS CLI
npm install -g typescript        # TypeScript
npm install -g prettier          # 代码格式化
npm install -g eslint            # 代码检查
```

## 🛠️ 开发工具配置

### 1. VS Code 推荐扩展
```json
{
  "recommendations": [
    "vue.volar",                    // Vue 3 支持
    "vue.vscode-typescript-vue-plugin",
    "bradlc.vscode-tailwindcss",    // Tailwind CSS
    "esbenp.prettier-vscode",       // Prettier
    "dbaeumer.vscode-eslint",       // ESLint
    "ms-vscode.vscode-typescript-next",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-json"
  ]
}
```

### 2. VS Code 设置
创建 `.vscode/settings.json`:
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "vue.codeActions.enabled": true,
  "vue.complete.casing.tags": "kebab",
  "vue.complete.casing.props": "camel"
}
```

### 3. 配置 Prettier
创建 `.prettierrc`:
```json
{
  "semi": false,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "endOfLine": "lf"
}
```

## ✅ 环境验证

### 1. 启动前端开发服务器
```bash
cd music-app-frontend
npm run dev
```
访问 `http://localhost:5188` 验证前端是否正常启动

### 2. 启动后端开发服务器
```bash
cd music-app-backend
npm run start:dev
```
访问 `http://localhost:3000` 验证后端是否正常启动

### 3. 运行代码检查
```bash
# 前端代码检查
cd music-app-frontend
npm run lint:check
npm run format:check

# 后端代码检查
cd music-app-backend
npm run lint:check
npm run format:check
```

## 🔧 常见问题解决

### 1. Node.js 版本问题
```bash
# 如果遇到版本不兼容问题
nvm install 20
nvm use 20
npm install
```

### 2. 依赖安装失败
```bash
# 清除缓存重新安装
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### 3. 端口占用问题
```bash
# 查看端口占用
netstat -ano | findstr :5188  # Windows
lsof -i :5188                 # macOS/Linux

# 杀死占用进程
taskkill /PID <PID> /F        # Windows
kill -9 <PID>                 # macOS/Linux
```

### 4. Git 权限问题
```bash
# 重新配置 Git 凭据
git config --global credential.helper store
git push  # 会提示输入用户名和密码
```

### 5. ESLint/Prettier 冲突
```bash
# 安装兼容性插件
npm install --save-dev eslint-config-prettier
```

## 📝 开发流程建议

### 1. 每日开发流程
```bash
# 1. 拉取最新代码
git pull origin main

# 2. 创建功能分支
git checkout -b feature/your-feature-name

# 3. 启动开发服务器
npm run dev

# 4. 开发完成后运行检查
npm run code-style

# 5. 提交代码
git add .
git commit -m "feat: 添加新功能"
git push origin feature/your-feature-name
```

### 2. 代码提交规范
```bash
# 提交信息格式
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 代码重构
test: 测试相关
chore: 构建过程或辅助工具的变动
```

---

## 🎯 下一步

环境准备完成后，您可以：
1. 查看项目 README.md 了解项目结构
2. 开始前端组件开发
3. 配置后端数据库连接
4. 实现前后端 API 对接

如有任何问题，请参考本文档的常见问题解决部分，或联系项目维护者。
